apply:
  - arch/go/Interface@v1.0.0

interface:
  BookRepository:
    //: ...is a repository to handle books.

    ReadAll:
      //: ...returns all books.
      in:
        ctx!:
        offset: { type: int64!, //: ... is the offset to return the entries for paging. }
        limit: { type: int64!, //: ...is the maximum amount of entries to return. }
      out:
        books: { type: slice!<Book>, //: ...is the list of books. }
        err!:

    Count:
      //: ...enumerates all stored elements.
      out:
        n: { type: int64!, //: ...is the actual count. }
        error!:

    FindOne:
      //: ...finds the first element by its id.
      in:
        id: { type: uuid!, //: ...the unique id. }
      out:
        obj: { type: Book, //: ...the found book, if any. }
        err!:

